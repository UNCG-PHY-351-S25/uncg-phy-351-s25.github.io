<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        <title>Safety-Check Arguments - PHY 351 Reference</title>
        <link href="../../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../../../css/custom.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../../..">PHY 351 Reference</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Course Admin</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../admin/syllabus/" class="dropdown-item">Syllabus</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Recipes</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../" class="dropdown-item">Intro to Recipes</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">A) Core Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../" class="dropdown-item">Overview</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Workflow</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../workflow/" class="dropdown-item">(Recipe List)</a>
</li>
            
<li>
    <a href="../../workflow/find-and-fork/" class="dropdown-item">Find and Fork a Repo on GitHub</a>
</li>
            
<li>
    <a href="../../workflow/manage-files/" class="dropdown-item">Manage Files on Beskar</a>
</li>
            
<li>
    <a href="../../workflow/github-auth/" class="dropdown-item">Authorizing with GitHub from Beskar</a>
</li>
            
<li>
    <a href="../../workflow/clone-to-beskar/" class="dropdown-item">Clone a Repo to Beskar</a>
</li>
            
<li>
    <a href="../../workflow/commit-push/" class="dropdown-item">Commit and Push Changes to GitHub</a>
</li>
            
<li>
    <a href="../../workflow/interactive-python/" class="dropdown-item">Execute Interactive Python</a>
</li>
            
<li>
    <a href="../../workflow/submit-level/" class="dropdown-item">Submit a Level</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Calculation</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../calculation/" class="dropdown-item">(Recipe List)</a>
</li>
            
<li>
    <a href="../../calculation/calc-interactively/" class="dropdown-item">Calculate Interactively</a>
</li>
            
<li>
    <a href="../../calculation/use-functions/" class="dropdown-item">Use Python Functions</a>
</li>
            
<li>
    <a href="../../calculation/complex-numbers/" class="dropdown-item">Use Complex Numbers</a>
</li>
            
<li>
    <a href="../../calculation/print/" class="dropdown-item">Print Formatted Output</a>
</li>
            
<li>
    <a href="../../calculation/scripts/" class="dropdown-item">Script a Calculation</a>
</li>
            
<li>
    <a href="../../calculation/user-input/" class="dropdown-item">Ask for User Input</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Functions</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../" class="dropdown-item">(Recipe List)</a>
</li>
            
<li>
    <a href="../writing-functions/" class="dropdown-item">Write Your Own Function</a>
</li>
            
<li>
    <a href="../optional-args/" class="dropdown-item">Make Arguments Optional</a>
</li>
            
<li>
    <a href="../conditionals/" class="dropdown-item">Execute Code Conditionally</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Safety-Check Arguments</a>
</li>
            
<li>
    <a href="../factoring/" class="dropdown-item">Factor Out Subfunctions</a>
</li>
            
<li>
    <a href="../globals/" class="dropdown-item">Use Global Variables (Sparingly!)</a>
</li>
            
<li>
    <a href="../run-or-import/" class="dropdown-item">Run or Import From a Script</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Iteration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../iteration/" class="dropdown-item">(Recipe List)</a>
</li>
            
<li>
    <a href="../../iteration/for/" class="dropdown-item">Repeat Code a Specific Number of Times</a>
</li>
            
<li>
    <a href="../../iteration/while/" class="dropdown-item">Repeat While or Until Something Is True</a>
</li>
            
<li>
    <a href="../../iteration/break/" class="dropdown-item">Stop Iteration Early</a>
</li>
            
<li>
    <a href="../../iteration/pick/" class="dropdown-item">Flip a Coin or Roll a Die</a>
</li>
            
<li>
    <a href="../../iteration/stats/" class="dropdown-item">Determine Statistics of a Sequence</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Tuples & Lists</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../tuples-lists/" class="dropdown-item">(Recipe List)</a>
</li>
            
<li>
    <a href="../../tuples-lists/tuples/" class="dropdown-item">Tuples</a>
</li>
            
<li>
    <a href="../../tuples-lists/lists/" class="dropdown-item">Lists</a>
</li>
            
<li>
    <a href="../../tuples-lists/iterate/" class="dropdown-item">Iterate</a>
</li>
            
<li>
    <a href="../../tuples-lists/set-or-append/" class="dropdown-item">Set or append</a>
</li>
            
<li>
    <a href="../../tuples-lists/find-in-list/" class="dropdown-item">Find in list</a>
</li>
            
<li>
    <a href="../../tuples-lists/combine-lists/" class="dropdown-item">Combine lists</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Sets & Dictionaries</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../sets-dicts/" class="dropdown-item">(Recipe List)</a>
</li>
            
<li>
    <a href="../../sets-dicts/sets/" class="dropdown-item">Sets</a>
</li>
            
<li>
    <a href="../../sets-dicts/overlap/" class="dropdown-item">Overlap</a>
</li>
            
<li>
    <a href="../../sets-dicts/dicts/" class="dropdown-item">Dicts</a>
</li>
            
<li>
    <a href="../../sets-dicts/dict-iteration/" class="dropdown-item">Dict iteration</a>
</li>
            
<li>
    <a href="../../sets-dicts/counters/" class="dropdown-item">Counters</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">B) Numerical Methods 1</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../num1/" class="dropdown-item">Numerical Methods 1: Finding Roots &amp; Extrema</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">C) Scientific Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../scipy/" class="dropdown-item">Skillset B: Scientific Python</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">D) Numerical Methods 2</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../num2/" class="dropdown-item">Numerical Methods 2: Numerical Calculus</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">E) Visual Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../visual/" class="dropdown-item">Skillset C: Visual Python</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Topics</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../topics/" class="dropdown-item">Overview</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Setup Guide</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../topics/setup/" class="dropdown-item">Overview</a>
</li>
            
<li>
    <a href="../../../../topics/setup/github-account/" class="dropdown-item">Creating your GitHub Account</a>
</li>
            
<li>
    <a href="../../../../topics/setup/beskar-account/" class="dropdown-item">Creating your Beskar Account</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../../../../topics/external/" class="dropdown-item">External Tutorials</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Core Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../topics/core/operators/" class="dropdown-item">Arithmetic Operators</a>
</li>
            
<li>
    <a href="../../../../topics/core/precedence/" class="dropdown-item">Operator Precedence</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Scientific Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../topics/scipy/numpy/" class="dropdown-item">Introduction to Numpy</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../conditionals/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../factoring/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/UNCG-PHY-351-S25.github.io/edit/master/docs/recipes/core/functions/safety-check.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                            <li class="nav-item dropdown">
                              <button id="theme-menu" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme" class="nav-link dropdown-toggle">
                                <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                <span class="d-lg-none ms-2">Toggle theme</span>
                              </button>
                              <ul class="dropdown-menu dropdown-menu-end">
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="true">
                                    <i class="fa-solid fa-sun fa-fw"></i>
                                    <span class="ms-2">Light</span>
                                    <i class="fa-solid fa-check ms-auto"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                                    <i class="fa-solid fa-moon fa-fw"></i>
                                    <span class="ms-2">Dark</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="auto" aria-pressed="false">
                                    <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                    <span class="ms-2">Auto</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                              </ul>
                            </li>
                    </ul>
                </div>
            </div>
        </div>
        <script src="../../../../js/darkmode.js"></script>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#safety-check-arguments" class="nav-link">Safety-Check Arguments</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#problem-to-solve" class="nav-link">Problem to Solve</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#recipe" class="nav-link">Recipe</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#examples" class="nav-link">Examples</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="safety-check-arguments">Safety-Check Arguments</h1>
<hr />
<h2 id="problem-to-solve">Problem to Solve</h2>
<blockquote>
<p><strong>I want to make my function robust against incorrect or unexpected arguments.</strong></p>
</blockquote>
<p>When you write quick, short-term-use functions for yourself, you probably don't need to worry about this. However, if you're writing functions as part of a larger project, and/or for others to use, and/or for you to use in the future, sparing a line or few of code to idiot-proof them against inappropriate arguments is wise.</p>
<p>I showed you a foretaste of this back in <a href="../../calculation/user-input/"><em>Ask for User Input</em></a>, but now (a) it's more important, and (b) we've got better tools to deal with it.</p>
<hr />
<h2 id="recipe">Recipe</h2>
<p>A function must guard against two basic kinds of argument error:
- being passed a value of an incorrect type (like a float when an integer is expected, or a list [coming soon] instead of a single value), and
- being passed a value of the right type but an inappropriate value (like a negative value for a mass).</p>
<h3 id="flavor-a-type-checking">Flavor A: Type Checking</h3>
<p>To check the type of an argument, you can explicitly test whether it's got the right type, like this:</p>
<pre><code class="language-python">def demo_function(x):
    &quot;&quot;&quot; A function that requires `x` to be a float. &quot;&quot;&quot;
    if not isinstance(x, float):
        raise TypeError(&quot;x must be a float&quot;)
    # Proceed with the function using `x`...
</code></pre>
<p>Wait, what's with this <code>raise TypeError(...)</code> stuff?!? üßê</p>
<p>That's the python way of triggering an error message to the user.</p>
<ul>
<li>
<p><code>raise</code> says `An error has occurred, and unless the code that's called me can do something smart to handle it, the user had better be informed!'</p>
</li>
<li>
<p><code>TypeError</code> indicates the kind of error that's occurred. Python has many built-in error types for you to choose from and you can even define your own. The two you're most likely to need for now, however, are:</p>
<ul>
<li><code>TypeError</code>: for when an object of inappropriate type is encountered.</li>
<li><code>ValueError</code>: for when an object of the right type but inappropriate value is encountered.</li>
</ul>
</li>
<li>
<p>"x must be a a float" is the message that will be displayed to the user. You can write whatever you like here, but it's good to be specific about what's wrong so the poor user (likely you) has some idea what to do about it.</p>
</li>
</ul>
<p>If you're okay with either an integer or floating-point value (since you can use an integer pretty much anywhere a float is expected), you can write:</p>
<pre><code class="language-python">def demo_function(x):
    &quot;&quot;&quot; A function that requires `x` to be a float or int. &quot;&quot;&quot;
    if not isinstance(x, (float, int)):
        raise TypeError(&quot;x must be a float or int&quot;)
    # Proceed with the function using `x`...
</code></pre>
<p>Sometimes, checking an argument value's type this way is the right approach. However, very often we don't actually care what the type of the argument is, so long as we can use it for our purposes. For example, if we want a float, so what if we're given an integer? We can use that just fine anywhere a decimal number is needed! So, instead of checking the type, we just <em>coerce</em> it to an adequate type:</p>
<pre><code class="language-python">def demo_function(x):
    &quot;&quot;&quot; A function that requires `x` to be interpretable as a float. &quot;&quot;&quot;
    x = float(x)
    # Proceed with the function using `x`...
</code></pre>
<p>If the user (or other code) calls <code>demo_function</code> with any kind of value that can be turned into a float ‚Äî such as a float, an integer, or a string representing a legitimate floating-point literal like "3.2e4" ‚Äî it'll get turned into a float, and the function can happily proceed.</p>
<p>OTOH, if the function receives something that can't be coerced into a float, python will raise a <code>ValueError</code> with a message like <code>could not convert string to float: '2.5 m/s'</code>. You don't need to bother with your own <code>raise</code> statement.</p>
<p>By the way, there's a third approach: Don't bother to check or coerce the argument at all. Just use it, and let python raise an error when it reaches a point where the argument's type is problematic. Depending on the situation, this might be fine, or it might open the door to hard-to-interpret errors or hard-to-fix bugs. Use your judgment. In particular, if it's obvious that an incorrect argument type will quickly cause an error to occur, you're probably okay omitting the explicit check. However, if an incorrect type might cause unintended behavior rather than an error, explicitly checking becomes essential.</p>
<ul>
<li>Forward reference: A common situation when a wrong type won't raise an error is when code expects a <em>list</em> (which we'll get to soon), but is given a <em>string</em> instead. If <code>x</code> represents a list, <code>x[3]</code> produces the fourth element in the list. However, if <code>x</code> represents a string, <code>x[3]</code> produces the fourth character in the string ‚Äî a totally different thing, and potentially very confusing, especially if the list is supposed to be a list of strings!</li>
</ul>
<h3 id="flavor-b-value-checking">Flavor B: Value Checking</h3>
<p>This is straightforward: Use an <code>if</code> statement to test the argument's value with the appropriate boolean expressions, and raise a <code>ValueError</code> if the test fails.</p>
<pre><code class="language-python">def demo_function(x):
    &quot;&quot;&quot; A function that requires `x` to be a positive number. &quot;&quot;&quot;
    if x &lt;= 0:
        raise ValueError(&quot;x must be positive!&quot;)
    # Proceed with the function using `x`...
</code></pre>
<p>If your restrictions on the argument's value are more complicated, you can combine boolean expressions with <code>and</code>, <code>or</code>, and <code>not</code>, and/or you can use a multi-clause <code>if/elif/‚Ä¶</code> construct.</p>
<p>If you need to check multiple arguments, just put the checks one after another in the function body. If more than one is invalid, only the first will be caught, but that's usually enough for the user to make progress.</p>
<p>By the way, a slightly shorter and quicker way to accomplish this is to use the <code>assert</code> statement introduced earlier. For example:</p>
<pre><code class="language-python">def demo_function(x):
    &quot;&quot;&quot; A function that requires `x` to be a positive number. &quot;&quot;&quot;
    assert x &gt; 0, &quot;x must be positive!&quot;
    # Proceed with the function using `x`...
</code></pre>
<p>The only significant <strong>practical</strong> difference here is that the user sees <code>AssertionError</code> instead of <code>ValueError</code>. That probably doesn't matter if a human gets the message, but sometimes the calling code will be written to "catch" certain errors and respond automatically.</p>
<p>Philosophically, however, programmers generally see <em>assertions</em> (using <code>assert</code>) as safety-checks inside their code that should never raise an error unless something has gone wrong inside the program, whereas <em>exceptions</em> (using <code>raise</code>) are for when the user or external code has done something wrong.</p>
<p>For the purposes of this course, I'll try to be explicit when an assigment cares what type of exception gets raised; otherwise, do as you see fit.</p>
<h2 id="examples">Examples</h2>
<p>Here's an example illustrating a common situation: a function requires an integer for something, such as the number of times to repeat something ‚Äî a random choice, a time-step in a dynamical simulation, etc. The user might plausibly want to pass very large numbers: ten thousand, a million, five million, whatever.</p>
<p>The problem is that python interprets scientific notation such as <code>1e4</code>, <code>1e6</code>, and <code>5e6</code> as floating-point values, not integers. If you don't check for this and do the following, your user will get annoyed:</p>
<pre><code class="language-python">def average_of_N(N):
    &quot;&quot;&quot; Generates a random number by a call to `roll_die` (whose definition 
        is not shown here), `N` times, and returns the average of all the
        values.
    &quot;&quot;&quot;
    sum = 0
    for i in range(N):
        sum += roll_die()
    return sum / N
</code></pre>
<p>(We haven't formally introduced <code>for</code>-loop iteration or the <code>range</code> function yet. I'm assuming you've seen enough python to be able to interpret it.)</p>
<p>Here's an example of the problem:</p>
<pre><code class="language-python">&gt;&gt;&gt; average_of_N(10_000)
3.5042
&gt;&gt;&gt; average_of_N(1e4)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
Cell In[6], line 1
----&gt; 1 average_of_N(1e5)

Cell In[1], line 7, in average_of_N(N)
      2 &quot;&quot;&quot; Generates a random number by a call to `roll_die` (whose definition 
      3     is not shown here), `N` times, and returns the average of all the
      4     values.
      5 &quot;&quot;&quot;
      6 sum = 0
----&gt; 7 for i in range(N):
      8     sum += roll_die()
      9 return sum / N

TypeError: 'float' object cannot be interpreted as an integer
</code></pre>
<p>The solution is simple, once you understand the problem:</p>
<pre><code class="language-python">def average_of_N(N):
    &quot;&quot;&quot; Generates a random number by a call to `roll_die` (whose definition 
        is not shown here), `N` times, and returns the average of all the
        values.
    &quot;&quot;&quot;
    N = int(N)
    sum = 0
    for i in range(N):
        sum += roll_die()
    return sum / N
</code></pre>
<p>Now, the function works as expected:</p>
<pre><code class="language-python">&gt;&gt;&gt; average_of_N(1e4)
3.4865
</code></pre>
<p>We still have a problem, however:</p>
<pre><code class="language-python">&gt;&gt;&gt; average_of_N(-1e4)
-0.0
</code></pre>
<p>We didn't get an error, but we did get a nonsensical result. If that function call were being made by other code, and its value used in some larger calculation, we might never realize that the nonsensical value was causing the calculation to be incorrect.</p>
<p>The problem, of course, it makes no sense to average something a negative number of times. We can fix this with a simple check:</p>
<pre><code class="language-python">    def average_of_N(N):
        &quot;&quot;&quot; Generates a random number by a call to `roll_die` (whose definition 
            is not shown here), `N` times, and returns the average of all the
            values.
        &quot;&quot;&quot;
        N = int(N)
        assert N &gt; 0, &quot;N must be positive!&quot;
        sum = 0
        for i in range(N):
            sum += roll_die()
        return sum / N
</code></pre>
<p>Now:</p>
<pre><code class="language-python">&gt;&gt;&gt; average_of_N(-1e4)
---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
Cell In[14], line 1
----&gt; 1 average_of_N(-1e4)

Cell In[13], line 7, in average_of_N(N)
      2 &quot;&quot;&quot; Generates a random number by a call to `roll_die` (whose definition 
      3     is not shown here), `N` times, and returns the average of all the
      4     values.
      5 &quot;&quot;&quot;
      6 N = int(N)
----&gt; 7 assert N &gt; 0, &quot;N must be positive!&quot;
      8 sum = 0
      9 for i in range(N):

AssertionError: N must be positive!
</code></pre>
<p>Get the idea? It's not hard; it just takes a bit of discipline to stop and ask, while writing a function, "What argument types or values are legitimate here? Will it break things or cause erroneous results if an invalid argument is provided? Maybe I better toss in a couple of lines of code just to be safe."</p>
<hr /></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../../js/base.js"></script>
        <script src="../../../../javascripts/mathjax.js"></script>
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
